define("component/Dialog",["require","exports","module","component/UIBase","base/base","underscore","base/eventEmitter"],function(t){var e=t("./UIBase"),n=(t("../base/base"),t("underscore")),i=t("base/eventEmitter");return e.extend({options:{id:"",titleText:"默认标题",content:"默认内容",position:{left:360,top:100},isSingle:!1,isModal:!1,hasClose:!0,hideInsteadofClose:!1,className:"dialog",onclose:function(){},zIndex:99999},_type:"dialog",_init:function(){this.options.id=this.id=this.getId(),i.setOwner(this),this.render(),this._bindResizeHander()},_getInnerString:function(){var t=(document,this),e=['<div class="dialog-title">'];return e.push('<div class="dialog-title-text">'),e.push(t.options.titleText),e.push("</div>"),this.options.hasClose&&(e.push('<a href="javascript:void(0);" class="dialog-close">&nbsp;'),e.push("</a>")),e.push("</div>"),e.push('<div class="dialog-content">'),e.push(t._getContentHTML()),e.push("</div>"),e.join("")},_update:function(){var t=this,e=t.getContainer();if(e){var n="#"+t.id+" .dialog-title-text",i=$(n);i.length&&i.html(t.options.titleText);var o="#"+t.id+" .dialog-content",s=$(o);s.length&&s.html(t._getContentHTML()),$.holmes.setPosition(e,t.options.position)}},_setIFrame:function(t,e,n){var i='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="javascript:false;"style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');top:0px;left:0px;width:'+e+"px;height:"+n+'px;"/>';0===$(t).find("bgiframe").length&&$(t).before(i)},_getContentHTML:function(){var t=this,e=document;if(n.isString(t.options.content))return t.options.content;if(n.isElement(t.options.content)){$(t.options.content).show();var i=e.createElement("div");return $(i).append(t.options.content),$(i).html()}return""},setTitleText:function(t){var e=this;n.isString(t)&&(e.options.titleText=t),e._update()},setContent:function(t){var e=this,i=t;(n.isString(i)||n.isElement(i))&&(e.options.content=i),e._update()},render:function(){var t=document,e=this,n=t.createElement("div");n.id=e.id,n.className="dialog-container "+e.options.className;if(e.options.isModal){var i=e.options.zIndex-1,o=t.createElement("div");if(o.className=e.options.className+" modal",o.id=e.id+"modal",$(o).css({position:"absolute",top:0,left:0,"background-color":"black",width:$(document).width(),height:$(document).height(),opacity:.6,"z-index":i}),$(t.body).append(o),$.browser.msie&&+$.browser.version<7){var s=t.createElement("div");o.appendChild(s),e._setIFrame(o.firstChild,$(window).width(),$(window).height())}}if(n.innerHTML=e._getInnerString(),t.body.appendChild(n),$.browser.msie&&+$.browser.version<7&&e._setIFrame(n.firstChild,n.offsetWidth,n.offsetHeight),$(e.getContainer()).css({position:"absolute","z-index":e.options.zIndex}),e.options.width&&($(e.getContainer()).css({width:e.options.width}),e.options.position.left=$(window).scrollLeft()+($(window).width()-e.options.width)/2,e.options.position.top=Math.max($(window).scrollTop()+($(window).height()-e.getContainer().offsetHeight)/2,0)),$.holmes.setPosition(e.getContainer(),{left:e.options.position.left,top:e.options.position.top}),this.options.hasClose){var r="#"+e.id+" .dialog-close";$(r).on("click",function(){e.options.hideInsteadofClose?e.hide():e.close()})}e.hide()},getContainer:function(){return $("#"+this.id)[0]},setPosition:function(t){var e=this;e.options.position.left=t.left,e.options.position.top=t.top,e._update()},fixPosition:function(){var t=this;t.getContainer()&&(t.options.width&&($(t.getContainer()).css({width:t.options.width}),t.options.position.left=$(window).scrollLeft()+($(window).width()-t.options.width)/2,t.options.position.top=Math.max($(window).scrollTop()+($(window).height()-t.getContainer().offsetHeight)/2,0)),$(t.getContainer()).css({left:t.options.position.left,top:t.options.position.top}));var e=this.getModalContainer();e.css({width:$(document).width(),height:$(document).height()})},show:function(){var t=this;$(t.getContainer()).show(),this.fixPosition(),t.getModalContainer()&&$(t.getModalContainer()).show()},hide:function(){var t=this;$(t.getContainer()).hide(),t.getModalContainer()&&$(t.getModalContainer()).hide()},close:function(){this.options.isSingle?this.hide():(this.getContainer()&&$(this.getContainer()).remove(),this.getModalContainer()&&$(this.getModalContainer()).remove(),$(window).off("resize",this.fixPosition),$(window).off("scroll",this.fixPosition)),i.trigger("onclose")},getModalContainer:function(){return $("#"+this.id+"modal")},_modalResizeHandler:function(){for(var t=$(".modal"),e=0;e<t.length;e++)$(t[e]).css({width:$(window).width(),height:$(window).height()})},_bindResizeHander:function(){var t=this;$(window).resize(function(){t.fixPosition()}),$(window).on("scroll",function(){t.fixPosition()})}})}),define("base/aceTemplate.min",[],function(){function t(t){var e=[];e.push("with(this){"),e.push(t.replace(/[\r\n]+/g,"\n").replace(/^\n+|\s+$/gm,"").replace(/((^\s*[<>!#^&\u0000-\u0008\u007F-\uffff].*$|^.*[<>]\s*$|^(?!\s*(else|do|try|finally)\s*$)[^'":;,\[\]{}()\n\/]+$|^(\s*(([\w-]+\s*=\s*"[^"]*")|([\w-]+\s*=\s*'[^']*')))+\s*$|^\s*([.#][\w-.]+(:\w+)?(\s*|,))*(?!(else|do|while|try|return)\b)[.#]?[\w-.*]+(:\w+)?\s*\{.*$)\s?)+/gm,function(t){return t=['"',t.replace(/&none;/g,"").replace(/["'\\]/g,"\\$&").replace(/\n/g,"\\n").replace(/(!?!?#)\{(.*?)\}/g,function(t,e,n){n=n.replace(/\\n/g,"\n").replace(/\\([\\'"])/g,"$1");var i=/^[a-z$][\w+$]+$/i.test(n)&&!/^(true|false|NaN|null|this)$/.test(n);return['",',i?["typeof ",n,'=="undefined"?"":'].join(""):"","#"==e?"_encode_":"!!#"==e?"_encodeAttr_":"","(",n,'),"'].join("")}),'"'].join("").replace(/^"",|,""$/g,""),t?["_output_.push(",t,");"].join(""):""})),e.push("}");var n=new Function("_output_","_encode_","helper","_encodeAttr_",e.join(""));return n}var e=e||{},n={"#39":"'",quot:'"',lt:"<",gt:">",amp:"&",nbsp:" "},i={"'":"#39",'"':"quot","<":"lt",">":"gt","&":"amp"," ":"nbsp"},o={g:function(t){return"string"!=typeof t?t:document.getElementById(t)},decodeHTML:function(t){return String(t).replace(/&(#39|quot|lt|gt|amp|nbsp);/gi,function(t,e){return n[e]}).replace(/&#u([a-f\d]{4});/gi,function(t,e){return String.fromCharCode(parseInt("0x"+e))}).replace(/&#(\d+);/gi,function(t,e){return String.fromCharCode(+e)})},encodeAttr:function(t){return String(t).replace(/["']/g,function(t){return"&"+i[t]+";"})},encodeHTML:function(t){return String(t).replace(/['"<>& ]/g,function(t){return"&"+i[t]+";"})},elementText:function(t){return t&&t.tagName?/^(input|textarea)$/i.test(t.tagName)?t.value:o.decodeHTML(t.innerHTML):""}},s={},r=!1;return e.format=function(e,n,i){if(!e)return"";var r,a;"object"==typeof e&&e.tagName&&(a=e,e=a.getAttribute("id")),i=i||this,r=s[e],r||(/[^\w-]/.test(e)?r=t(e):(a||(a=o.g(e)),r=this.register(e,a)));var d=[];return r.call(n||"",d,o.encodeHTML,i,o.encodeAttr),d.join("")},e.register=function(e,n){if(!arguments.length&&!r){r=!0;for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var d=i[a];if(/^(text\/template)$/i.test(d.getAttribute("type"))){var e=d.getAttribute("id");e&&arguments.callee.call(this,e,d)}}}if(e)return s[e]?s[e]:("string"!=typeof n&&("undefined"==typeof n&&(n=o.g(e)),n=o.elementText(n)),s[e]=t(n))},e.unregister=function(t){delete s[t]},e.format&&(e._format=e.format,e.format=function(t,n,i){var o=e._format(t,n,i);return String(o).replace(/(.+?)>\s*<(.+?)/g,"$1><$2")}),e}),require(["jquery","domReady","component/Dialog","component/Tabs","base/aceTemplate.min","base/util"],function(t,e,n,i,o,s){t(document).ready(function(){new i({containerId:"main-nav",selectedIndex:0,onchange:t.noop}),t(".cases-1-row-opt em").on("click",function(){var e="+"===t(this).html()?!1:!0,n=t(this).closest(".cases-1-row").find(".cases-1-row-brief");e?(t(this).html("+").removeClass("font20"),n.find(".desc").hide(),n.find(".bref-desc").show()):(t(this).html("–").addClass("font20"),n.find(".desc").show(),n.find(".bref-desc").hide())})})}),define("cases",["jquery","domReady","component/Dialog","component/Tabs","base/aceTemplate.min","base/util"],function(){});